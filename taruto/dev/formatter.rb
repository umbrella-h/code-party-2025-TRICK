# Further adjustments needed for special characters: \n (newline), \s (space), \e (escape)
# The adjusted final version is in the ../entry.rb file

taruto_codes = File.read("single_line.rb")

def format_spiral(input)
  lines = [
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
    "    #########           #########           #########           #########           #########           #########           #########       ",
    "  ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##       ##         ##     ",
    "##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ##     ###    ##    ",
    "##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ##   ",
    "##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ##   ##        ##   ",
    " ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##     ##    ##     ##    ",
    "   ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####          ##   #####       ",
    "                                                                                                                                            ",
]

  # Replace placeholders in the spiral with characters from the input string
  chars = input.chars
  lines.map! do |line|
    line.gsub(/#/) { chars.shift || "#" }
  end

  lines.join("\n")
end

formatted = format_spiral(taruto_codes)
File.write("formatted.rb", formatted)